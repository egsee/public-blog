<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>EGSEE</title>
  
  <subtitle>SmallHouse</subtitle>
  <link href="/public-blog/atom.xml" rel="self"/>
  
  <link href="https://egsee.github.io/"/>
  <updated>2021-10-20T09:06:25.000Z</updated>
  <id>https://egsee.github.io/</id>
  
  <author>
    <name>egsee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>memset替换字符串的注意点</title>
    <link href="https://egsee.github.io/posts/d8689c7b/"/>
    <id>https://egsee.github.io/posts/d8689c7b/</id>
    <published>2020-10-17T11:13:16.000Z</published>
    <updated>2021-10-20T09:06:25.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="字符串只读"><a href="#字符串只读" class="headerlink" title="字符串只读"></a>字符串只读</h2><ul><li><p>memset 原型<br><code>void * memset( void * ptr, int value, size_t num )</code></p><blockquote><p>其中 size_t 即是 unsigned int</p></blockquote></li><li><p>参数说明<br>ptr 为要操作的内存的指针。<br>value 为要设置的值。你既可以向 value 传递 int 类型的值，也可以传递 char 类型的值，因为 int 和 char 可以根据 ASCII 码相互转换。<br>num 为 ptr 的前 num 个字节。</p><blockquote><p>注意：参数 value 虽声明为 int，但必须是 unsigned char，所以范围在0 到255 之间。</p></blockquote></li></ul><a id="more"></a><ul><li>使用</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> str[] = <span class="string">"https://github.com"</span>;</span><br><span class="line">    <span class="built_in">memset</span>(str, <span class="string">'-'</span>, <span class="number">7</span>);</span><br><span class="line">    <span class="built_in">puts</span>(str);</span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>输出 ——-github.com</p></blockquote><ul><li>错误使用<br>由于字符串是只读的，不能被修改。而memset必须修改目标，所以不能直接将字符指针直接指向字符串，以下使用将在运行时报错</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *str = <span class="string">"https://github.com"</span>;</span><br><span class="line">    <span class="built_in">memset</span>(str, <span class="string">'-'</span>, <span class="number">7</span>);</span><br><span class="line">    <span class="built_in">puts</span>(str);</span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>报错信息：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Bus error: 10</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;字符串只读&quot;&gt;&lt;a href=&quot;#字符串只读&quot; class=&quot;headerlink&quot; title=&quot;字符串只读&quot;&gt;&lt;/a&gt;字符串只读&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;memset 原型&lt;br&gt;&lt;code&gt;void * memset( void * ptr, int value, size_t num )&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;其中 size_t 即是 unsigned int&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;参数说明&lt;br&gt;ptr 为要操作的内存的指针。&lt;br&gt;value 为要设置的值。你既可以向 value 传递 int 类型的值，也可以传递 char 类型的值，因为 int 和 char 可以根据 ASCII 码相互转换。&lt;br&gt;num 为 ptr 的前 num 个字节。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注意：参数 value 虽声明为 int，但必须是 unsigned char，所以范围在0 到255 之间。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="后端" scheme="https://egsee.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
      <category term="c/c++" scheme="https://egsee.github.io/tags/c-c/"/>
    
      <category term="内存" scheme="https://egsee.github.io/tags/%E5%86%85%E5%AD%98/"/>
    
  </entry>
  
  <entry>
    <title>nodejs垃圾回收</title>
    <link href="https://egsee.github.io/posts/e0a6bc82/"/>
    <id>https://egsee.github.io/posts/e0a6bc82/</id>
    <published>2020-09-17T11:13:16.000Z</published>
    <updated>2021-10-20T08:56:13.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>内存泄漏是一个老生常谈的问题，由于多数语言已经有了GC回收，且现代计算机有了更大的内存，所以不少工程师对于这方面并不太了解，今天主要谈一谈nodejs的垃圾回收机制。</p></blockquote><h2 id="如何发生内存泄漏"><a href="#如何发生内存泄漏" class="headerlink" title="如何发生内存泄漏"></a>如何发生内存泄漏</h2><p>c语言没有GC，每次分配内存需要程序员手动操作释放，这里使用一个简单c的例子来说明什么是内存泄漏。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//定义两个指针分别指向两块内存</span></span><br><span class="line"><span class="keyword">char</span> * p1 = (<span class="keyword">char</span> *)<span class="built_in">malloc</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">char</span> * p2 = (<span class="keyword">char</span> *)<span class="built_in">malloc</span>(<span class="number">10</span>);</span><br><span class="line"><span class="comment">//将p1指向p2指向的内存</span></span><br><span class="line">p1 = p2</span><br></pre></td></tr></table></figure><blockquote><p>当p1指向p2指向的内存的时候，p1原来的那部分内存就无法操作也没有回收，这好像‘没有了’一样，这种情况就发生了内存泄漏</p></blockquote><a id="more"></a><h3 id="正常模式和精简模式"><a href="#正常模式和精简模式" class="headerlink" title="正常模式和精简模式"></a>正常模式和精简模式</h3><p><code>hexo框架2仓2主题</code>，采用正常模式一个仓库，一个主题；精简模式另一个仓库，另一个主题。</p><p>本博客采用的github Page部署网站。大家都知道，一个github的账户名，只能够指定一个<code>username.github.io</code>的网址，所以两个仓库，两个主题的话，就必须有一个挂在<code>username.github.io</code>之上，比如正常模式<code>username.github.io</code>，精简模式为<code>username.github.io/name.io</code>。</p><h4 id="正常模式"><a href="#正常模式" class="headerlink" title="正常模式"></a>正常模式</h4><p>正常模式里面可以放各种炫酷的东西，提供丰富的页面。</p><h4 id="精简模式"><a href="#精简模式" class="headerlink" title="精简模式"></a>精简模式</h4><p>只提供必要的文章，归档，分类，搜索基本的东西就够了。看个人需要，既然要简洁，就尽量的少弄一些。</p><h3 id="配置方法"><a href="#配置方法" class="headerlink" title="配置方法"></a>配置方法</h3><p>关于<strong>_config.yml</strong>主配置文件的注意事项。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ root: /remove.io/ #精简模式</span></span><br><span class="line"><span class="deletion">- root: /  #正常模式</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line"><span class="addition">+ repo: https://github.com/removeif/remove.io.git  #精简模式</span></span><br><span class="line"><span class="deletion">- repo: https://github.com/removeif/removeif.github.io.git  #正常模式</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+ theme: icarus #正常模式</span></span><br><span class="line"><span class="deletion">- theme: nextn #精简模式</span></span><br></pre></td></tr></table></figure><p>对于root 根节点的说明，因为精简模式的所有资源文件都是挂在 username.github.io/remove.io/ 所以相当于根节点为/remove.io/ </p><h3 id="总结注意事项"><a href="#总结注意事项" class="headerlink" title="总结注意事项"></a>总结注意事项</h3><ul><li>对于页面中对于对应模式下资源文件的引用，一定加上域名地址 ，比如原来图片访问<code>/image/tuizi.jpg</code>，在精简模式的时候如果继续这样用，就找不到，对应模式下的图片了，需要加上前面的<code>username.github.io/remove.io/</code> 地址。</li><li>对于精简模式下，能去掉的东西就尽量去掉，尽量少加载一些，速度更快。</li><li>对于冲突页面的处理，一般对于文章或者关于页面都是通用。文章一般没啥影响，但是关于页面，可能有些也有很炫酷的模块。对于精简模式，可能不需要，此时就需要多new 一个page页面，分开配置，比如下面主题中的<code>_config.yml</code>配置。</li></ul><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ /remove.io/abouta/ #精简模式</span></span><br><span class="line"><span class="deletion">- /abouta/ #正常模式</span></span><br></pre></td></tr></table></figure><p>本博客<a href="https://removeif.github.io/">正常模式</a></p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20190917190717.png" alt=""></p><p><a href="https://removeif.github.io/remove.io/">精简模式</a></p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20190917190818.png" alt=""></p><p>以上只是提供了一种解决方法思路，肯定还有更好的方式。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;内存泄漏是一个老生常谈的问题，由于多数语言已经有了GC回收，且现代计算机有了更大的内存，所以不少工程师对于这方面并不太了解，今天主要谈一谈nodejs的垃圾回收机制。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;如何发生内存泄漏&quot;&gt;&lt;a href=&quot;#如何发生内存泄漏&quot; class=&quot;headerlink&quot; title=&quot;如何发生内存泄漏&quot;&gt;&lt;/a&gt;如何发生内存泄漏&lt;/h2&gt;&lt;p&gt;c语言没有GC，每次分配内存需要程序员手动操作释放，这里使用一个简单c的例子来说明什么是内存泄漏。&lt;/p&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//定义两个指针分别指向两块内存&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; * p1 = (&lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *)&lt;span class=&quot;built_in&quot;&gt;malloc&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; * p2 = (&lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *)&lt;span class=&quot;built_in&quot;&gt;malloc&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//将p1指向p2指向的内存&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;p1 = p2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;当p1指向p2指向的内存的时候，p1原来的那部分内存就无法操作也没有回收，这好像‘没有了’一样，这种情况就发生了内存泄漏&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="后端" scheme="https://egsee.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
      <category term="nodejs" scheme="https://egsee.github.io/tags/nodejs/"/>
    
      <category term="GC" scheme="https://egsee.github.io/tags/GC/"/>
    
  </entry>
  
  <entry>
    <title>C内存分配</title>
    <link href="https://egsee.github.io/posts/a1501c1d/"/>
    <id>https://egsee.github.io/posts/a1501c1d/</id>
    <published>2020-09-17T11:13:16.000Z</published>
    <updated>2021-10-20T09:04:54.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>C 内存分配主要有 malloc、calloc、realoc 三个函数，以下简要介绍</p></blockquote><h2 id="内存分区"><a href="#内存分区" class="headerlink" title="内存分区"></a>内存分区</h2><p>内存里主要有几个划分，用一张表格表示<br>| 内存分区 | 内容 | 权限 |<br>| ———- | ——————– | ——– |<br>| 栈区 | 函数中的普通变量 | 可读可写 |<br>| 堆区 | 动态申请的内存 | 可读可写 |<br>| 静态变量区 | static 修饰的变量 | 可读可写 |<br>| 数据区 | 用于初始化变量的常量 | 只读 |<br>| 代码区 | 代码指令 | 只读 |</p><h2 id="malloc、calloc、realoc"><a href="#malloc、calloc、realoc" class="headerlink" title="malloc、calloc、realoc"></a>malloc、calloc、realoc</h2><p>C\C++允许我们使用这三个函数直接操作内存，具体就是对堆（Heap）的操作，那么这几种有哪些不同呢？</p><a id="more"></a><h3 id="malloc"><a href="#malloc" class="headerlink" title="malloc"></a>malloc</h3><ul><li>函数原型<br><code>void* malloc (size_t size);</code></li><li>头文件<br><code>头文件：#include &lt;stdlib.h&gt;</code></li><li>说明<br><code>malloc</code>在 Heap 区域分配一块长度为<code>size</code>字节的连续区域并返回该区域的地址，malloc() 函数不能为所分配的空间初始化值，需要使用 memset()，。在程序结束前，需要使用 free() 进行内存释放。</li><li>例子</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p  = (<span class="keyword">int</span> *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"><span class="built_in">memset</span>(p, <span class="number">100</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, *p); <span class="comment">//输出100</span></span><br><span class="line"><span class="built_in">free</span>(p);</span><br></pre></td></tr></table></figure><blockquote><p>注意： memset 只能给 int 类型赋值的范围为 0x00 - 0xff (即 0 - 255)，超过将按位赋值。<a href="/posts/d8689c7b#字符串只读">memset 使用介绍&gt;&gt;</a></p></blockquote><h3 id="calloc"><a href="#calloc" class="headerlink" title="calloc"></a>calloc</h3><ul><li>函数原型<br><code>void* calloc (size_t num, size_t size)</code></li><li>头文件<br><code>#include &lt;stdlib.h&gt;</code></li><li>说明<br><code>calloc</code>和<code>malloc</code>类似，在内存中动态地分配 num 个长度为 size 的连续空间，并将每一个字节都初始化为 0。所以它的结果是分配了 num*size 个字节长度的内存空间，并且每个字节的值都是 0。</li><li>使用</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *ptr = (<span class="keyword">char</span> *)<span class="built_in">calloc</span>(<span class="number">10</span>, <span class="number">10</span>);  <span class="comment">// 分配100个字节的内存空间</span></span><br></pre></td></tr></table></figure><blockquote><p>注意 由于返回的指针类型未知，所以在使用 calloc() 时通常需要进行强制类型转换，将 void 指针转换成我们希望的类型。</p></blockquote><ul><li>比较<br>以下两种使用等效</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *str1 = (<span class="keyword">char</span> *)<span class="built_in">calloc</span>(<span class="number">10</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// malloc() 分配内存空间并用 memset() 初始化</span></span><br><span class="line"><span class="keyword">char</span> *str2 = (<span class="keyword">char</span> *)<span class="built_in">malloc</span>(<span class="number">20</span>);</span><br><span class="line"><span class="built_in">memset</span>(str2, <span class="number">0</span>, <span class="number">20</span>);</span><br></pre></td></tr></table></figure><h3 id="realoc"><a href="#realoc" class="headerlink" title="realoc"></a>realoc</h3><ul><li>函数原型<br><code>void* realloc (void* ptr, size_t size)</code></li><li>头文件<br><code>#include &lt;stdlib.h&gt;</code></li><li>说明<br>ptr 为需要重新分配的内存空间指针，size 为新的内存空间的大小，<code>relloc</code>为指定内存指针的动态内存（通常指 malloc 和 calloc 分配的）重新分配大小。</li><li>注意</li></ul><ol><li>如果 ptr 为 NULL，它的效果和 malloc() 相同，即分配 size 字节的内存空间。</li><li>如果 size 的值为 0，那么 ptr 指向的内存空间就会被释放，但是由于没有开辟新的内存空间，所以会返回空指针，类似于调用 free()。</li><li>指针 ptr 必须是在动态内存空间分配成功的指针，形如如下的指针是不可以的：int *i; int a[2]；会导致运行时错误，可以简单的这样记忆：用 malloc()、calloc()、realloc() 分配成功的指针才能被 realloc() 函数接受。</li><li>成功分配内存后 ptr 将被系统回收，不可再对 ptr 指针做任何操作，包括 free()。相反的，可以对 realloc() 函数的返回值进行正常操作。</li><li>如果是扩大内存操作会把 ptr 指向的内存中的数据复制到新地址（新地址也可能会和原地址相同，但依旧不能对原指针进行任何操作）；如果是缩小内存操作，原始据会被复制并截取新长度。</li></ol><ul><li>返回值<br>分配成功返回新的内存地址，可能与 ptr 相同，也可能不同。失败则返回 NULL。</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIZE 5</span></span><br><span class="line"><span class="keyword">int</span> *p = (<span class="keyword">int</span> *)<span class="built_in">calloc</span>(SIZE, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"><span class="keyword">int</span> *rp;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; SIZE; ++i)</span><br><span class="line">&#123;</span><br><span class="line">    p[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 扩容为之前的两倍</span></span><br><span class="line"><span class="comment">// 注意这里使用了新指针(rp)而不是(p)，可在realloc分配失败时，防止p指向的内存泄漏</span></span><br><span class="line">rp = (<span class="keyword">int</span> *)<span class="built_in">realloc</span>(p, SIZE * <span class="number">2</span>);</span><br><span class="line"><span class="built_in">free</span>(p);</span><br><span class="line"><span class="built_in">free</span>(rp);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li><code>malloc</code> 和 <code>colloc</code> 都是动态分配内存，但colloc会在初始化的同时将每个字节的内存值初始化为0。</li><li><code>realoc</code> 主要功能是对 <code>malloc</code> 和 <code>colloc</code> 分配的内存容量进行调整。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;C 内存分配主要有 malloc、calloc、realoc 三个函数，以下简要介绍&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;内存分区&quot;&gt;&lt;a href=&quot;#内存分区&quot; class=&quot;headerlink&quot; title=&quot;内存分区&quot;&gt;&lt;/a&gt;内存分区&lt;/h2&gt;&lt;p&gt;内存里主要有几个划分，用一张表格表示&lt;br&gt;| 内存分区 | 内容 | 权限 |&lt;br&gt;| ———- | ——————– | ——– |&lt;br&gt;| 栈区 | 函数中的普通变量 | 可读可写 |&lt;br&gt;| 堆区 | 动态申请的内存 | 可读可写 |&lt;br&gt;| 静态变量区 | static 修饰的变量 | 可读可写 |&lt;br&gt;| 数据区 | 用于初始化变量的常量 | 只读 |&lt;br&gt;| 代码区 | 代码指令 | 只读 |&lt;/p&gt;
&lt;h2 id=&quot;malloc、calloc、realoc&quot;&gt;&lt;a href=&quot;#malloc、calloc、realoc&quot; class=&quot;headerlink&quot; title=&quot;malloc、calloc、realoc&quot;&gt;&lt;/a&gt;malloc、calloc、realoc&lt;/h2&gt;&lt;p&gt;C\C++允许我们使用这三个函数直接操作内存，具体就是对堆（Heap）的操作，那么这几种有哪些不同呢？&lt;/p&gt;
    
    </summary>
    
    
      <category term="后端" scheme="https://egsee.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
      <category term="c/c++ 内存" scheme="https://egsee.github.io/tags/c-c-%E5%86%85%E5%AD%98/"/>
    
  </entry>
  
  <entry>
    <title>加密文章测试</title>
    <link href="https://egsee.github.io/posts/7e709353/"/>
    <id>https://egsee.github.io/posts/7e709353/</id>
    <published>2020-01-21T02:14:11.000Z</published>
    <updated>2021-10-19T02:46:52.474Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="不好意思，密码没对哦，在检查检查呢！" data-whm="不好意思，信息无法验证！">  <script id="hbeData" type="hbeData" data-hmacdigest="f0f9c9cb2c90f3c8d8b638899d3e6bab0b7028795b0f7c3f96c9f31947f55a5b">4630436162ade97ba2718b7d0c4b3b63480c11f21f943edd569d93952dd2b428ca40d00edd08503bde446612a9b43ffa557648f22736556fdb8df232a70f5b62381872db0244c43c00526e1a08cf52221edf34128af95f6689fc9f8038d2d384d80553865a152ddd5e6208a870af3b5c9bc83d20b2dbb9eed9bf4345fcbd80740d0d96973b857ce18daf962a01b68ae1d5fbd8ee95919ff5e4e59e2389903324d011f36e647c7bfde1d377a277b639b7845f1864318dedde1881f738423184c1eda461211d6767b7282687bd23a77a8725cebce8f83995baff71092164b22479</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">嗨，请准确无误地输入密码查看哟（密码：123456）！</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      咦，这是一篇加密文章，好像需要输入密码才能查看呢！
    
    </summary>
    
    
      <category term="私密" scheme="https://egsee.github.io/categories/%E7%A7%81%E5%AF%86/"/>
    
    
      <category term="加密文章" scheme="https://egsee.github.io/tags/%E5%8A%A0%E5%AF%86%E6%96%87%E7%AB%A0/"/>
    
  </entry>
  
  <entry>
    <title>Gan</title>
    <link href="https://egsee.github.io/posts/7e709353/"/>
    <id>https://egsee.github.io/posts/7e709353/</id>
    <published>2020-01-21T02:14:11.000Z</published>
    <updated>2021-10-19T06:12:56.790Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="不好意思，密码没对哦，在检查检查呢！" data-whm="不好意思，信息无法验证！">  <script id="hbeData" type="hbeData" data-hmacdigest="0de224ed8f79dad7a3e81c591fd16ab30a8caeaec5674e6f8085700a1cd772f5">165d50f05814027fb7fe5e4ae8a088d8fd306100dc57933273cf97103a7eee23a48598ae97b555ccd9b9ed2800b66ddaae29e47149150d9d9667e55ea3307ead9107a5de9794deaac446346a6718585d9114b716a4b461f94050a385e701a7df1bf9fb9ffa0444f56b6ba7d93f9edbf33dd37994eec1695b2ec9da18317e5ebbfb8283d6762d0848b9add1784d3ccc1ad89d17ea96cd38b8ca6172a90a2c7ef9fec10d253ce8024fa2324209472cda2c6ecdfcdf66cb4bc78d072593778391a9ecc8cf67101604b423fc0f92994d0cd27acdb550b3567597564e496cadf7cd52b8a39dbb98baecf0f92b3f76745ce886415bbedb0a0a8cf3c5fc8ae8877414c9cf0df65a39548a388424f6dcabf402e05aff88f80341a1facf85b1fe833f09a45d7ea635bf5203ec4e0ee2f8804039a0</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">嗨，请准确无误地输入密码查看哟（密码：123）！</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      看不了
    
    </summary>
    
    
      <category term="私密" scheme="https://egsee.github.io/categories/%E7%A7%81%E5%AF%86/"/>
    
    
      <category term="加密文章" scheme="https://egsee.github.io/tags/%E5%8A%A0%E5%AF%86%E6%96%87%E7%AB%A0/"/>
    
  </entry>
  
  <entry>
    <title>github Issue 作为博客微型数据库的应用</title>
    <link href="https://egsee.github.io/posts/e7fe3cc/"/>
    <id>https://egsee.github.io/posts/e7fe3cc/</id>
    <published>2019-11-28T14:02:05.000Z</published>
    <updated>2021-10-15T03:15:16.639Z</updated>
    
    <content type="html"><![CDATA[<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>众所周知，对于hexo框架搭建的静态博客，难免会产生一些动态的数据，比如一些碎碎念、友链、音乐、时间轴等微型数据。目前一般的做法:</p><p>a.是创建一个json数据，来存储这些微型数据，但是如果数据太多的话，一是比较慢，二是有个硬伤问题，就是json数据不能分页请求，只能一次拿完，太多的话网络带宽占用太多。</p><a id="more"></a><p>b.或者有的直接后台写一些接口服务啥的，还得在买个服务器部署上去，然后博客中访问接口。</p><p>c.或者有些可能就直接写到html中。</p><p>对于a、c方法都比较麻烦，每次更新了都要编译部署，不能很方便的动态更新。对于b的话，成本以及技术要求可能就更多一些了。</p><p>基于上面出现的问题，目前想到的一个解决方案就是，利用github 的issue作为一个微型数据库。能够很方便的动态更新，也能分页，也不需要啥json文件，想想都很方便。</p><h3 id="issue数据库使用步骤"><a href="#issue数据库使用步骤" class="headerlink" title="issue数据库使用步骤"></a>issue数据库使用步骤</h3><h4 id="issue的创建"><a href="#issue的创建" class="headerlink" title="issue的创建"></a>issue的创建</h4><p>先创建一个Repository，对于此Repository可以专门作为微型的数据库，取名issue_database。创建好之后建立一些issue</p><p>如下所示</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20191128213154.png" alt=""></p><p>目前博客中，所有的动态数据都放到issue中了。</p><h4 id="issue中存储数据"><a href="#issue中存储数据" class="headerlink" title="issue中存储数据"></a>issue中存储数据</h4><p>对于创建好的issue，就可以往里面写数据了，比如我的友链数据为issue：blog_friends</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20191128213427.png" alt=""></p><p>对于issue中存储的数据最好存json格式的，因为可以方便后面取出来使用。存储好数据后，如果太多的话，可以点击hide,隐藏起来。同时这个issue最好给<code>Lock conversation</code>这样的好处是，防止别人往里面加些脏数据，只能自己往里写数据。哈哈，一般也没有闲的无聊的网友恶作剧。这样就存储好数据了。</p><h4 id="博客中获取issue数据"><a href="#博客中获取issue数据" class="headerlink" title="博客中获取issue数据"></a>博客中获取issue数据</h4><p>博客中通过js获取issue中的数据，以博客友链为例，以下是获取代码，以及处理</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// author by removef</span></span><br><span class="line"><span class="comment">// https://removeif.github.io/</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">//获取处理友链数据，来自issue，一次取完</span></span><br><span class="line">    $.getJSON(<span class="string">"https://api.github.com/repos/removeif/issue_database/issues/2/comments?per_page=100&amp;client_id=46a9f3481b46ea0129d8&amp;client_secret=79c7c9cb847e141757d7864453bcbf89f0655b24"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">source</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> data = [];</span><br><span class="line">        <span class="keyword">var</span> source1;</span><br><span class="line">        source1 = source;</span><br><span class="line">      <span class="comment">// 以后每次更新的都在后面，此处倒序，按时间降序排</span></span><br><span class="line">        source1.reverse();</span><br><span class="line">      <span class="comment">// 把所有的数据放到data的列表中</span></span><br><span class="line">        $.each(source1, <span class="function"><span class="keyword">function</span> (<span class="params">i, e</span>) </span>&#123;</span><br><span class="line">            data.push(...JSON.parse(e.body));</span><br><span class="line">        &#125;);</span><br><span class="line">      </span><br><span class="line">        $.each(data, <span class="function"><span class="keyword">function</span> (<span class="params">i, e</span>) </span>&#123;</span><br><span class="line">          <span class="comment">// 博客中html文件的构建，渲染</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>上面代码中client_id、client_secret在另一篇文章中<strong><a href="https://removeif.github.io/2019/09/19/%E5%8D%9A%E5%AE%A2%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB.html">博客源码分享</a></strong>有详细的说明,可以查看一下。这样就能获取到相应的数据，进行操作。</p><h4 id="issue数据的更新"><a href="#issue数据的更新" class="headerlink" title="issue数据的更新"></a>issue数据的更新</h4><p>比如想更新任意一项数据都可以进github中对应的仓库的issue下进行更新，添加。然后实时去博客中查看。</p><h3 id="扩展一下"><a href="#扩展一下" class="headerlink" title="扩展一下"></a>扩展一下</h3><p>对于有些爱唠叨的人（比如我），弄个类似碎碎念的东西就比较实用了。之前想过各种方案，存json数据太不方便；后台写个服务部署服务器也太麻烦。最后思来想去还是利用了下现成的优秀项目<a href="https://github.com/gitalk/gitalk">gitalk</a>,稍稍改改就能很好使用。</p><h4 id="博客中的碎碎念"><a href="#博客中的碎碎念" class="headerlink" title="博客中的碎碎念"></a>博客中的碎碎念</h4><p>对于博主而言，有发表框和修改的操作，能够方便发表和修改。</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20191128215148.png" alt=""></p><p>可能有时候还会发表一些图片，对图片的样式做了一些控制</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20191128215345.png" alt=""></p><p>对于网友的话只能查看以及点赞加❤️</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20191128215555.png" alt=""></p><p>做法就是源码中改下返回html的文件内容，如果是管理员和非管理员返回一些不同的元素，能够很好的实现碎碎念的功能。<br>查看<a href="https://removeif.github.io/self-talking/">碎碎念</a>。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>静态博客的动态数据是个痛点，GitHub Issue有很多可利用的地方。多去探索发掘其中的奥妙。</p><p>利用GitHub Issue来解决目前也是一种解决方法。希望后面会出现更好的解决方案。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h3&gt;&lt;p&gt;众所周知，对于hexo框架搭建的静态博客，难免会产生一些动态的数据，比如一些碎碎念、友链、音乐、时间轴等微型数据。目前一般的做法:&lt;/p&gt;
&lt;p&gt;a.是创建一个json数据，来存储这些微型数据，但是如果数据太多的话，一是比较慢，二是有个硬伤问题，就是json数据不能分页请求，只能一次拿完，太多的话网络带宽占用太多。&lt;/p&gt;
    
    </summary>
    
    
      <category term="工具教程" scheme="https://egsee.github.io/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"/>
    
      <category term="主题工具" scheme="https://egsee.github.io/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E4%B8%BB%E9%A2%98%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="工具教程" scheme="https://egsee.github.io/tags/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>github page网站cdn优化加速</title>
    <link href="https://egsee.github.io/posts/346ce02e/"/>
    <id>https://egsee.github.io/posts/346ce02e/</id>
    <published>2019-09-25T08:41:46.000Z</published>
    <updated>2021-10-15T03:15:16.639Z</updated>
    
    <content type="html"><![CDATA[<p>CDN的全称是Content Delivery Network，即内容分发网络。CDN是构建在网络之上的内容分发网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。——百度百科</p><p>放在Github的资源在国内加载速度比较慢，因此需要使用CDN加速来优化网站打开速度，jsDelivr + Github便是免费且好用的CDN，非常适合博客网站使用。</p><a id="more"></a><h3 id="图片加速"><a href="#图片加速" class="headerlink" title="图片加速"></a>图片加速</h3><p>关于图传以及GitHub作为图库的使用方法请参考文章：<a href="https://removeif.github.io/2019/06/20/博客图片上传picgo工具github图传使用.html">博客图片上传picgo工具github图传使用</a>。</p><p>在上面参考文章的基础之上只需要修改以下配置：<strong>（指定相关cdn域名）</strong></p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20190925161709.png" alt=""></p><p>原来项目中使用了原来的方式，进行全局替换，<strong>Mac idea</strong>直接快捷键<code>command+shift+R</code>全局替换</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20190925162235.png" alt=""></p><p><strong>【ps：题外话】</strong>原来是统一用的GitHub的仓库中的图片，通过这样替换，可以看到图片统一管理是多么的重要，多么的方便管理操作。</p><p>至此，博客中的相关图片都加上了cdn。</p><h3 id="其余资源文件"><a href="#其余资源文件" class="headerlink" title="其余资源文件"></a>其余资源文件</h3><p>用法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;你的用户名&#x2F;你的仓库名@发布的版本号&#x2F;文件路径</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;TRHX&#x2F;CDN-for-itrhx.com@1.0&#x2F;images&#x2F;trhx.png</span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;TRHX&#x2F;CDN-for-itrhx.com@2.0.1&#x2F;css&#x2F;style.css</span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;moezx&#x2F;cdn@3.1.3&#x2F;&#x2F;The%20Pet%20Girl%20of%20Sakurasou.mp4</span><br></pre></td></tr></table></figure><p>注意：版本号不是必需的，是为了区分新旧资源，如果不使用版本号，将会直接引用最新资源，除此之外还可以使用某个范围内的版本，查看所有资源等，具体使用方法如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 加载任何Github发布、提交或分支</span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;user&#x2F;repo@version&#x2F;file</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 加载 jQuery v3.2.1</span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jquery&#x2F;jquery@3.2.1&#x2F;dist&#x2F;jquery.min.js</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 使用版本范围而不是特定版本</span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jquery&#x2F;jquery@3.2&#x2F;dist&#x2F;jquery.min.js</span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jquery&#x2F;jquery@3&#x2F;dist&#x2F;jquery.min.js</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 完全省略该版本以获取最新版本</span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jquery&#x2F;jquery&#x2F;dist&#x2F;jquery.min.js</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 将“.min”添加到任何JS&#x2F;CSS文件中以获取缩小版本，如果不存在，将为会自动生成</span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jquery&#x2F;jquery@3.2.1&#x2F;src&#x2F;core.min.js</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 在末尾添加 &#x2F; 以获取资源目录列表</span><br><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jquery&#x2F;jquery&#x2F;</span><br></pre></td></tr></table></figure><p>至此，github page 博客基本需要加速的完成。</p><p>参考文章:<br><a href="https://blog.csdn.net/qq_36759224/article/details/86936453">参考链接1</a><br><a href="https://blog.csdn.net/qq_36759224/article/details/98058240">参考链接2</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;CDN的全称是Content Delivery Network，即内容分发网络。CDN是构建在网络之上的内容分发网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。——百度百科&lt;/p&gt;
&lt;p&gt;放在Github的资源在国内加载速度比较慢，因此需要使用CDN加速来优化网站打开速度，jsDelivr + Github便是免费且好用的CDN，非常适合博客网站使用。&lt;/p&gt;
    
    </summary>
    
    
      <category term="工具教程" scheme="https://egsee.github.io/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"/>
    
      <category term="主题工具" scheme="https://egsee.github.io/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E4%B8%BB%E9%A2%98%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="工具教程" scheme="https://egsee.github.io/tags/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>博客换肤的一种实现方式思路</title>
    <link href="https://egsee.github.io/posts/1c5449cf/"/>
    <id>https://egsee.github.io/posts/1c5449cf/</id>
    <published>2019-09-17T11:13:16.000Z</published>
    <updated>2021-10-18T06:36:49.691Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>当博客内容很多的时候，比如需要加载很多资源文件，许多炫酷的东西的时候，可能相应的就是比较慢了（正可谓时间和空间不能兼得）。虽然目前也有很多方式手段可以提高访问速度，但是博客提供一个简洁模式还是很有必要的，萝卜青菜，各有所爱嘛。说不定很多网友就当纯的想看看文字，不需要那些花里胡哨的东西。这时候提供个清爽模式就相当有用了。</p></blockquote><a id="more"></a><h3 id="正常模式和精简模式"><a href="#正常模式和精简模式" class="headerlink" title="正常模式和精简模式"></a>正常模式和精简模式</h3><p><code>hexo框架2仓2主题</code>，采用正常模式一个仓库，一个主题；精简模式另一个仓库，另一个主题。</p><p>本博客采用的github Page部署网站。大家都知道，一个github的账户名，只能够指定一个<code>username.github.io</code>的网址，所以两个仓库，两个主题的话，就必须有一个挂在<code>username.github.io</code>之上，比如正常模式<code>username.github.io</code>，精简模式为<code>username.github.io/name.io</code>。</p><h4 id="正常模式"><a href="#正常模式" class="headerlink" title="正常模式"></a>正常模式</h4><p>正常模式里面可以放各种炫酷的东西，提供丰富的页面。</p><h4 id="精简模式"><a href="#精简模式" class="headerlink" title="精简模式"></a>精简模式</h4><p>只提供必要的文章，归档，分类，搜索基本的东西就够了。看个人需要，既然要简洁，就尽量的少弄一些。</p><h3 id="配置方法"><a href="#配置方法" class="headerlink" title="配置方法"></a>配置方法</h3><p>关于<strong>_config.yml</strong>主配置文件的注意事项。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ root: /remove.io/ #精简模式</span></span><br><span class="line"><span class="deletion">- root: /  #正常模式</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line"><span class="addition">+ repo: https://github.com/removeif/remove.io.git  #精简模式</span></span><br><span class="line"><span class="deletion">- repo: https://github.com/removeif/removeif.github.io.git  #正常模式</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+ theme: icarus #正常模式</span></span><br><span class="line"><span class="deletion">- theme: nextn #精简模式</span></span><br></pre></td></tr></table></figure><p>对于root 根节点的说明，因为精简模式的所有资源文件都是挂在 username.github.io/remove.io/ 所以相当于根节点为/remove.io/ </p><h3 id="总结注意事项"><a href="#总结注意事项" class="headerlink" title="总结注意事项"></a>总结注意事项</h3><ul><li>对于页面中对于对应模式下资源文件的引用，一定加上域名地址 ，比如原来图片访问<code>/image/tuizi.jpg</code>，在精简模式的时候如果继续这样用，就找不到，对应模式下的图片了，需要加上前面的<code>username.github.io/remove.io/</code> 地址。</li><li>对于精简模式下，能去掉的东西就尽量去掉，尽量少加载一些，速度更快。</li><li>对于冲突页面的处理，一般对于文章或者关于页面都是通用。文章一般没啥影响，但是关于页面，可能有些也有很炫酷的模块。对于精简模式，可能不需要，此时就需要多new 一个page页面，分开配置，比如下面主题中的<code>_config.yml</code>配置。</li></ul><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ /remove.io/abouta/ #精简模式</span></span><br><span class="line"><span class="deletion">- /abouta/ #正常模式</span></span><br></pre></td></tr></table></figure><p>本博客<a href="https://removeif.github.io/">正常模式</a></p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20190917190717.png" alt=""></p><p><a href="https://removeif.github.io/remove.io/">精简模式</a></p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20190917190818.png" alt=""></p><p>以上只是提供了一种解决方法思路，肯定还有更好的方式。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;当博客内容很多的时候，比如需要加载很多资源文件，许多炫酷的东西的时候，可能相应的就是比较慢了（正可谓时间和空间不能兼得）。虽然目前也有很多方式手段可以提高访问速度，但是博客提供一个简洁模式还是很有必要的，萝卜青菜，各有所爱嘛。说不定很多网友就当纯的想看看文字，不需要那些花里胡哨的东西。这时候提供个清爽模式就相当有用了。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="工具教程" scheme="https://egsee.github.io/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"/>
    
      <category term="主题工具" scheme="https://egsee.github.io/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E4%B8%BB%E9%A2%98%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="工具教程" scheme="https://egsee.github.io/tags/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>博客中gitalk最新评论的获取</title>
    <link href="https://egsee.github.io/posts/47c45f64/"/>
    <id>https://egsee.github.io/posts/47c45f64/</id>
    <published>2019-09-12T17:03:06.000Z</published>
    <updated>2021-10-15T03:15:16.639Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>博客中，对于网友的评论以及每篇文章的评论数还是很重要的。但是基于静态的页面想要存储动态的评论数据是比较难的，一般博客主题中都内置了评论插件，但是博客主题中对于最新评论的支持显示还是很少的，至少目前我是没怎么发现。博客 Powered by <a href="http://hexo.io/">Hexo</a> &amp; <a href="http://github.com/ppoffice/hexo-theme-icarus">Icarus</a>，采用<a href="https://github.com/gitalk/gitalk">Gitalk</a>评论，再次感谢此三位作者的辛勤码代码，才有了以下的内容。基于此背景基础上，聊聊最新评论的实现。</p></blockquote><a id="more"></a><p>博客的使用， <a href="http://hexo.io/">Hexo</a> &amp; <a href="http://github.com/ppoffice/hexo-theme-icarus">Icarus</a>，采用<a href="https://github.com/gitalk/gitalk">Gitalk</a>评论 的使用自行百度了。</p><h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><ul><li>最新评论列表</li><li>最热文章列表（基于评论数判断是否最热，也比较片面，但是侧面也能反映，问题不大）</li></ul><h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><p>主要参考自<a href="https://developer.github.com/v3/issues/">官方文档</a></p><p>目前主要用到<code>两个方法</code>，一个是获取仓库下所有的issue，每个issue节点下有相关的评论数，以及对应issue下的评论的url;还有一个是根据issue下评论的URL获取相应的所有的评论</p><h4 id="方法1：List-issues-for-a-repository"><a href="#方法1：List-issues-for-a-repository" class="headerlink" title="方法1：List issues for a repository"></a>方法1：<a href="https://developer.github.com/v3/issues/">List issues for a repository</a></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /orgs/:org/issues</span><br></pre></td></tr></table></figure><p>参数列表</p><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center"><code>milestone</code></td><td align="center"><code>integer</code> or <code>string</code></td><td align="center">If an <code>integer</code> is passed, it should refer to a milestone by its <code>number</code> field. If the string <code>*</code> is passed, issues with any milestone are accepted. If the string <code>none</code> is passed, issues without milestones are returned.</td></tr><tr><td align="center"><code>state</code></td><td align="center"><code>string</code></td><td align="center">Indicates the state of the issues to return. Can be either <code>open</code>, <code>closed</code>, or <code>all</code>. Default: <code>open</code></td></tr><tr><td align="center"><code>assignee</code></td><td align="center"><code>string</code></td><td align="center">Can be the name of a user. Pass in <code>none</code> for issues with no assigned user, and <code>*</code> for issues assigned to any user.</td></tr><tr><td align="center"><code>creator</code></td><td align="center"><code>string</code></td><td align="center">The user that created the issue.</td></tr><tr><td align="center"><code>mentioned</code></td><td align="center"><code>string</code></td><td align="center">A user that’s mentioned in the issue.</td></tr><tr><td align="center"><code>labels</code></td><td align="center"><code>string</code></td><td align="center">A list of comma separated label names. Example: <code>bug,ui,@high</code></td></tr><tr><td align="center"><code>sort</code></td><td align="center"><code>string</code></td><td align="center">What to sort results by. Can be either <code>created</code>, <code>updated</code>, <code>comments</code>. Default: <code>created</code></td></tr><tr><td align="center"><code>direction</code></td><td align="center"><code>string</code></td><td align="center">The direction of the sort. Can be either <code>asc</code> or <code>desc</code>. Default: <code>desc</code></td></tr><tr><td align="center"><code>since</code></td><td align="center"><code>string</code></td><td align="center">Only issues updated at or after this time are returned. This is a timestamp in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format: <code>YYYY-MM-DDTHH:MM:SSZ</code>.</td></tr></tbody></table><p>以上参数，主要用到 <code>sort 排序，page页数，per_page每页数量</code>，其余的参数看个人需要使用。<strong>注意文档中的说明，排序的字段和返回的稍许不太一样。</strong></p><h4 id="方法2：List-comments-on-an-issue"><a href="#方法2：List-comments-on-an-issue" class="headerlink" title="方法2：List comments on an issue"></a>方法2：<a href="https://developer.github.com/v3/issues/comments/">List comments on an issue</a></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /repos/:owner/:repo/issues/:issue_number/comments</span><br></pre></td></tr></table></figure><p>Issue Comments are ordered by ascending ID. 排序根据 ascending (上升的，增长的；升（序）的)ID.也就是说，从老到新。这个比较坑，对于我们获取最新评论来说。</p><p>参数如下</p><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center"><code>since</code></td><td align="center"><code>string</code></td><td align="center">Only comments updated at or after this time are returned. This is a timestamp in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format: <code>YYYY-MM-DDTHH:MM:SSZ</code>.</td></tr></tbody></table><p>根据尝试以及以上参数，试出<code>不支持排序，但是支持分页，page,per_page参数</code>，对于我们获取最新的评论来说可以根据评论数，算出分页数，拿到最后一条，即最新一条</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果只有一页</span></span><br><span class="line"><span class="keyword">int</span> page = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> per_page = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// 如果超出一页的话</span></span><br><span class="line"><span class="keyword">int</span> page = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> per_page = commentsNumber-<span class="number">1</span>;<span class="comment">//commentsNumber:评论数</span></span><br></pre></td></tr></table></figure><h4 id="js代码中使用实例核心代码"><a href="#js代码中使用实例核心代码" class="headerlink" title="js代码中使用实例核心代码"></a>js代码中使用实例核心代码</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timesSet = [];</span><br><span class="line"><span class="keyword">var</span> timesBodyMap = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> timesSetMap = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> resultArr = [];</span><br><span class="line"><span class="comment">// 方法1：sort=comments可以按评论数排序，此处更适合按更新时间排序,可以根据updated排序，但是0条评论的也会出来，所以此处还是根据评论数排序全部查出来，过滤掉0条评论的，拿到每个issue下最新的一条评论详情和时间，根据时间内存排序</span></span><br><span class="line"><span class="comment">// per_page 每页数量，根据需求配置</span></span><br><span class="line">$.getJSON(<span class="string">"https://api.github.com/repos/&#123;用户名&#125;/&#123;仓库&#125;/issues?per_page=100&amp;sort=comments"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span><br><span class="line">    $.each(result, <span class="function"><span class="keyword">function</span> (<span class="params">i, item</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> commentsCount = item.comments;</span><br><span class="line">        <span class="keyword">if</span> (commentsCount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            $.ajaxSettings.async = <span class="literal">false</span>;</span><br><span class="line">            <span class="comment">// 此处保证是最后一条，api没有排序参数，只能分页取最后一条，保证最少的数据量传输，快速处理</span></span><br><span class="line">            <span class="keyword">var</span> page = <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">var</span> pageSize = commentsCount - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (commentsCount == <span class="number">1</span>) &#123;</span><br><span class="line">                page = <span class="number">1</span>;</span><br><span class="line">                pageSize = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 方法2：的使用</span></span><br><span class="line">            $.getJSON(item.comments_url + <span class="string">"?page="</span> + page + <span class="string">"&amp;per_page="</span> + pageSize, <span class="function"><span class="keyword">function</span> (<span class="params">commentResult</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> item1 = commentResult[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">var</span> contentStr = item1.body.trim();</span><br><span class="line">                <span class="keyword">if</span> (contentStr.length &gt; <span class="number">50</span>) &#123;</span><br><span class="line">                    contentStr = contentStr.substr(<span class="number">0</span>, <span class="number">60</span>);</span><br><span class="line">                    contentStr += <span class="string">"..."</span>;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                timesSet.push(<span class="keyword">new</span> <span class="built_in">Date</span>(item1.created_at).getTime());</span><br><span class="line">                timesBodyMap[item1.created_at] = &#123;</span><br><span class="line">                    <span class="string">"title"</span>: item.title.substr(<span class="number">0</span>, item.title.indexOf(<span class="string">"-"</span>) - <span class="number">1</span>),</span><br><span class="line">                    <span class="string">"url"</span>: item.body.substr(<span class="number">0</span>, item.body.indexOf(<span class="string">"\n"</span>) - <span class="number">1</span>),</span><br><span class="line">                    <span class="string">"content"</span>: contentStr,</span><br><span class="line">                    <span class="string">"date"</span>: item1.created_at,</span><br><span class="line">                    <span class="string">"userName"</span>: item1[<span class="string">"user"</span>].login,</span><br><span class="line">                    <span class="string">"userUrl"</span>: item1[<span class="string">"user"</span>].html_url,</span><br><span class="line">                    <span class="string">"commentCount"</span>: commentsCount</span><br><span class="line">                &#125;;</span><br><span class="line">                timesSetMap[<span class="keyword">new</span> <span class="built_in">Date</span>(item1.created_at).getTime()] = item1.created_at;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 排序</span></span><br><span class="line"><span class="keyword">if</span> (timesSet.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    timesSet.sort();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 根据需要取10条</span></span><br><span class="line"><span class="keyword">if</span> (timesSet.length &gt; <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = timesSet.length - <span class="number">1</span>; i &gt;= <span class="number">0</span> &amp;&amp; resultArr.length &lt; <span class="number">10</span>; i--) &#123;</span><br><span class="line">        resultArr.push(timesBodyMap[timesSetMap[timesSet[i]]]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = timesSet.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        resultArr.push(timesBodyMap[timesSetMap[timesSet[i]]]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="方法1：请求接口地址示例"><a href="#方法1：请求接口地址示例" class="headerlink" title="方法1：请求接口地址示例"></a>方法1：请求接口地址示例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//api.github.com/repos/removeif/blog_comment/issues?per_page=100&amp;sort=comments</span></span><br></pre></td></tr></table></figure><p><strong>返回结果</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment/issues/3"</span>,</span><br><span class="line">    <span class="attr">"repository_url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment"</span>,</span><br><span class="line">    <span class="attr">"labels_url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment/issues/3/labels&#123;/name&#125;"</span>,</span><br><span class="line">    <span class="attr">"comments_url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment/issues/3/comments"</span>,</span><br><span class="line">    <span class="attr">"events_url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment/issues/3/events"</span>,</span><br><span class="line">    <span class="attr">"html_url"</span>: <span class="string">"https://github.com/removeif/blog_comment/issues/3"</span>,</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">458985510</span>,</span><br><span class="line">    <span class="attr">"node_id"</span>: <span class="string">"MDU6SXNzdWU0NTg5ODU1MTA="</span>,</span><br><span class="line">    <span class="attr">"number"</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"留言板 - 辣椒の酱"</span>,</span><br><span class="line">    <span class="attr">"user"</span>: &#123;</span><br><span class="line">      <span class="attr">"login"</span>: <span class="string">"removeif"</span>,</span><br><span class="line">      <span class="attr">"id"</span>: <span class="number">10427139</span>,</span><br><span class="line">      <span class="attr">"node_id"</span>: <span class="string">"MDQ6VXNlcjEwNDI3MTM5"</span>,</span><br><span class="line">      <span class="attr">"avatar_url"</span>: <span class="string">"https://avatars1.githubusercontent.com/u/10427139?v=4"</span>,</span><br><span class="line">      <span class="attr">"gravatar_id"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://api.github.com/users/removeif"</span>,</span><br><span class="line">      <span class="attr">"html_url"</span>: <span class="string">"https://github.com/removeif"</span>,</span><br><span class="line">      <span class="attr">"followers_url"</span>: <span class="string">"https://api.github.com/users/removeif/followers"</span>,</span><br><span class="line">      <span class="attr">"following_url"</span>: <span class="string">"https://api.github.com/users/removeif/following&#123;/other_user&#125;"</span>,</span><br><span class="line">      <span class="attr">"gists_url"</span>: <span class="string">"https://api.github.com/users/removeif/gists&#123;/gist_id&#125;"</span>,</span><br><span class="line">      <span class="attr">"starred_url"</span>: <span class="string">"https://api.github.com/users/removeif/starred&#123;/owner&#125;&#123;/repo&#125;"</span>,</span><br><span class="line">      <span class="attr">"subscriptions_url"</span>: <span class="string">"https://api.github.com/users/removeif/subscriptions"</span>,</span><br><span class="line">      <span class="attr">"organizations_url"</span>: <span class="string">"https://api.github.com/users/removeif/orgs"</span>,</span><br><span class="line">      <span class="attr">"repos_url"</span>: <span class="string">"https://api.github.com/users/removeif/repos"</span>,</span><br><span class="line">      <span class="attr">"events_url"</span>: <span class="string">"https://api.github.com/users/removeif/events&#123;/privacy&#125;"</span>,</span><br><span class="line">      <span class="attr">"received_events_url"</span>: <span class="string">"https://api.github.com/users/removeif/received_events"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"User"</span>,</span><br><span class="line">      <span class="attr">"site_admin"</span>: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"labels"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">1416043904</span>,</span><br><span class="line">        <span class="attr">"node_id"</span>: <span class="string">"MDU6TGFiZWwxNDE2MDQzOTA0"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment/labels/3306ea6632b94cc388b40cef9dda4a8f"</span>,</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"3306ea6632b94cc388b40cef9dda4a8f"</span>,</span><br><span class="line">        <span class="attr">"color"</span>: <span class="string">"0e8a16"</span>,</span><br><span class="line">        <span class="attr">"default"</span>: <span class="literal">false</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">1415994590</span>,</span><br><span class="line">        <span class="attr">"node_id"</span>: <span class="string">"MDU6TGFiZWwxNDE1OTk0NTkw"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment/labels/Gitalk"</span>,</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"Gitalk"</span>,</span><br><span class="line">        <span class="attr">"color"</span>: <span class="string">"5319e7"</span>,</span><br><span class="line">        <span class="attr">"default"</span>: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"state"</span>: <span class="string">"open"</span>,</span><br><span class="line">    <span class="attr">"locked"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"assignee"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"assignees"</span>: [</span><br><span class="line"></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"milestone"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"comments"</span>: <span class="number">33</span>,</span><br><span class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-06-21T03:06:53Z"</span>,</span><br><span class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-09-12T10:37:34Z"</span>,</span><br><span class="line">    <span class="attr">"closed_at"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"author_association"</span>: <span class="string">"OWNER"</span>,</span><br><span class="line">    <span class="attr">"body"</span>: <span class="string">"https://removeif.github.io/message/\r\n\r\n留言板信息。"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;...&#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure><h4 id="方法2：请求接口地址示例"><a href="#方法2：请求接口地址示例" class="headerlink" title="方法2：请求接口地址示例"></a>方法2：请求接口地址示例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//api.github.com/repos/removeif/blog_comment/issues/3/comments?per_page=32&amp;page=2</span></span><br></pre></td></tr></table></figure><p><strong>返回结果</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment/issues/comments/530767913"</span>,</span><br><span class="line">    <span class="attr">"html_url"</span>: <span class="string">"https://github.com/removeif/blog_comment/issues/3#issuecomment-530767913"</span>,</span><br><span class="line">    <span class="attr">"issue_url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment/issues/3"</span>,</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">530767913</span>,</span><br><span class="line">    <span class="attr">"node_id"</span>: <span class="string">"MDEyOklzc3VlQ29tbWVudDUzMDc2NzkxMw=="</span>,</span><br><span class="line">    <span class="attr">"user"</span>: &#123;</span><br><span class="line">      <span class="attr">"login"</span>: <span class="string">"removeif"</span>,</span><br><span class="line">      <span class="attr">"id"</span>: <span class="number">10427139</span>,</span><br><span class="line">      <span class="attr">"node_id"</span>: <span class="string">"MDQ6VXNlcjEwNDI3MTM5"</span>,</span><br><span class="line">      <span class="attr">"avatar_url"</span>: <span class="string">"https://avatars1.githubusercontent.com/u/10427139?v=4"</span>,</span><br><span class="line">      <span class="attr">"gravatar_id"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://api.github.com/users/removeif"</span>,</span><br><span class="line">      <span class="attr">"html_url"</span>: <span class="string">"https://github.com/removeif"</span>,</span><br><span class="line">      <span class="attr">"followers_url"</span>: <span class="string">"https://api.github.com/users/removeif/followers"</span>,</span><br><span class="line">      <span class="attr">"following_url"</span>: <span class="string">"https://api.github.com/users/removeif/following&#123;/other_user&#125;"</span>,</span><br><span class="line">      <span class="attr">"gists_url"</span>: <span class="string">"https://api.github.com/users/removeif/gists&#123;/gist_id&#125;"</span>,</span><br><span class="line">      <span class="attr">"starred_url"</span>: <span class="string">"https://api.github.com/users/removeif/starred&#123;/owner&#125;&#123;/repo&#125;"</span>,</span><br><span class="line">      <span class="attr">"subscriptions_url"</span>: <span class="string">"https://api.github.com/users/removeif/subscriptions"</span>,</span><br><span class="line">      <span class="attr">"organizations_url"</span>: <span class="string">"https://api.github.com/users/removeif/orgs"</span>,</span><br><span class="line">      <span class="attr">"repos_url"</span>: <span class="string">"https://api.github.com/users/removeif/repos"</span>,</span><br><span class="line">      <span class="attr">"events_url"</span>: <span class="string">"https://api.github.com/users/removeif/events&#123;/privacy&#125;"</span>,</span><br><span class="line">      <span class="attr">"received_events_url"</span>: <span class="string">"https://api.github.com/users/removeif/received_events"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"User"</span>,</span><br><span class="line">      <span class="attr">"site_admin"</span>: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-09-12T10:37:34Z"</span>,</span><br><span class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-09-12T10:37:34Z"</span>,</span><br><span class="line">    <span class="attr">"author_association"</span>: <span class="string">"OWNER"</span>,</span><br><span class="line">    <span class="attr">"body"</span>: <span class="string">"&gt; 哇 大佬你博客弄的好厉害啊  可以指点指点吗\n&gt;&gt; @xuelangjing 还好吧😂，简简单单的，可以多看下网页上的源码，有什么问题可以讨论讨论哦"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>博客中目前有两个页面使用,根据个人的需要放到各自的位置吧。</p><p><strong><a href="https://removeif.github.io/">首页热门推荐</a></strong></p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20190913005314.png" alt=""></p><p><strong><a href="https://removeif.github.io/comment/">还有个最新评论页：</a></strong></p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20190913005510.png" alt=""></p><h3 id="扩展一个方法"><a href="#扩展一个方法" class="headerlink" title="扩展一个方法"></a>扩展一个方法</h3><p>上面的实例程序，<code>每个issue（因为我的每个issue关联一个文章链接）</code>只取了一条最新的评论，假如每个issue下有两个都是最新的评论，而我也不管是不是同一个issue下的评论，获取所有的最新评论，还有一个方法比较好用。</p><h4 id="List-comments-in-a-repository"><a href="#List-comments-in-a-repository" class="headerlink" title="List comments in a repository"></a><a href="https://developer.github.com/v3/issues/comments/#list-comments-in-a-repository">List comments in a repository</a></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /repos/:owner/:repo/issues/comments</span><br></pre></td></tr></table></figure><p>By default, Issue Comments are ordered by ascending ID. 和上面一样，但是以下参数就不一样了</p><table><thead><tr><th align="center">Name</th><th align="center">Type</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center"><code>sort</code></td><td align="center"><code>string</code></td><td align="center">Either <code>created</code> or <code>updated</code>. Default: <code>created</code></td></tr><tr><td align="center"><code>direction</code></td><td align="center"><code>string</code></td><td align="center">Either <code>asc</code> or <code>desc</code>. Ignored without the <code>sort</code> parameter.</td></tr><tr><td align="center"><code>since</code></td><td align="center"><code>string</code></td><td align="center">Only comments updated at or after this time are returned. This is a timestamp in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format: <code>YYYY-MM-DDTHH:MM:SSZ</code>.</td></tr></tbody></table><p>多了<code>排序字段和排序方式，也有per和per_page</code>，这是相当的有用啊</p><h4 id="扩展方法：请求接口地址示例"><a href="#扩展方法：请求接口地址示例" class="headerlink" title="扩展方法：请求接口地址示例"></a>扩展方法：请求接口地址示例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//api.github.com/repos/removeif/blog_comment/issues/comments?sort=updated&amp;direction=desc&amp;per_page=10&amp;page=1</span></span><br></pre></td></tr></table></figure><p>返回结果</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment/issues/comments/530767913"</span>,</span><br><span class="line">    <span class="attr">"html_url"</span>: <span class="string">"https://github.com/removeif/blog_comment/issues/3#issuecomment-530767913"</span>,</span><br><span class="line">    <span class="attr">"issue_url"</span>: <span class="string">"https://api.github.com/repos/removeif/blog_comment/issues/3"</span>,</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">530767913</span>,</span><br><span class="line">    <span class="attr">"node_id"</span>: <span class="string">"MDEyOklzc3VlQ29tbWVudDUzMDc2NzkxMw=="</span>,</span><br><span class="line">    <span class="attr">"user"</span>: &#123;</span><br><span class="line">      <span class="attr">"login"</span>: <span class="string">"removeif"</span>,</span><br><span class="line">      <span class="attr">"id"</span>: <span class="number">10427139</span>,</span><br><span class="line">      <span class="attr">"node_id"</span>: <span class="string">"MDQ6VXNlcjEwNDI3MTM5"</span>,</span><br><span class="line">      <span class="attr">"avatar_url"</span>: <span class="string">"https://avatars1.githubusercontent.com/u/10427139?v=4"</span>,</span><br><span class="line">      <span class="attr">"gravatar_id"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://api.github.com/users/removeif"</span>,</span><br><span class="line">      <span class="attr">"html_url"</span>: <span class="string">"https://github.com/removeif"</span>,</span><br><span class="line">      <span class="attr">"followers_url"</span>: <span class="string">"https://api.github.com/users/removeif/followers"</span>,</span><br><span class="line">      <span class="attr">"following_url"</span>: <span class="string">"https://api.github.com/users/removeif/following&#123;/other_user&#125;"</span>,</span><br><span class="line">      <span class="attr">"gists_url"</span>: <span class="string">"https://api.github.com/users/removeif/gists&#123;/gist_id&#125;"</span>,</span><br><span class="line">      <span class="attr">"starred_url"</span>: <span class="string">"https://api.github.com/users/removeif/starred&#123;/owner&#125;&#123;/repo&#125;"</span>,</span><br><span class="line">      <span class="attr">"subscriptions_url"</span>: <span class="string">"https://api.github.com/users/removeif/subscriptions"</span>,</span><br><span class="line">      <span class="attr">"organizations_url"</span>: <span class="string">"https://api.github.com/users/removeif/orgs"</span>,</span><br><span class="line">      <span class="attr">"repos_url"</span>: <span class="string">"https://api.github.com/users/removeif/repos"</span>,</span><br><span class="line">      <span class="attr">"events_url"</span>: <span class="string">"https://api.github.com/users/removeif/events&#123;/privacy&#125;"</span>,</span><br><span class="line">      <span class="attr">"received_events_url"</span>: <span class="string">"https://api.github.com/users/removeif/received_events"</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"User"</span>,</span><br><span class="line">      <span class="attr">"site_admin"</span>: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-09-12T10:37:34Z"</span>,</span><br><span class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-09-12T10:37:34Z"</span>,</span><br><span class="line">    <span class="attr">"author_association"</span>: <span class="string">"OWNER"</span>,</span><br><span class="line">    <span class="attr">"body"</span>: <span class="string">"&gt; 哇 大佬你博客弄的好厉害啊  可以指点指点吗\n&gt;&gt; @xuelangjing 还好吧😂，简简单单的，可以多看下网页上的源码，有什么问题可以讨论讨论哦"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure><h4 id="总结此扩展方法"><a href="#总结此扩展方法" class="headerlink" title="总结此扩展方法"></a>总结此扩展方法</h4><p><strong>优点：</strong>对于不在乎issue数量，只在乎最新评论的就比较适用，能够精准拿出前10条，很赞<br><strong>不足：</strong>一个issue下多个最新评论，如果想要显示的最新评论列表还包括文章标题，看起来可能不太好看，很多重复，但是看个人需要吧</p><h4 id="注意事项，采坑环节"><a href="#注意事项，采坑环节" class="headerlink" title="注意事项，采坑环节"></a>注意事项，采坑环节</h4><ul><li>对应接口的请求限制，目前接口有请求的限制，所以使用中不能频繁请求，调试的时候一会儿又限制，一会儿又限制比较麻烦，限制十几分钟之后就解除了。</li><li>对于页面中，一般很多个地方可能都需要展示这个列表，所以不能每次都去请求，必须缓存起来，一般缓存到本地，我的是存的cookie中，十分钟去请求一次，所以调好后一般不会出现限制情况。但是马上评论了的就看不到，有10分钟的延迟，不过也还好。</li><li>对于如果issue以及评论太多的情况，尽量的少请求，比如上面的分页优化，取最后一条。以及页面中请求时做出异步请求的方式，不要阻止其他元素的渲染。</li></ul><p>本人主要做后端，对前端的<code>set/排序</code>不太熟悉，上面实现排序代码比较繁琐😂，如果有什么更好的方法，麻烦也告知一下，互相学习共同进步。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;博客中，对于网友的评论以及每篇文章的评论数还是很重要的。但是基于静态的页面想要存储动态的评论数据是比较难的，一般博客主题中都内置了评论插件，但是博客主题中对于最新评论的支持显示还是很少的，至少目前我是没怎么发现。博客 Powered by &lt;a href=&quot;http://hexo.io/&quot;&gt;Hexo&lt;/a&gt; &amp;amp; &lt;a href=&quot;http://github.com/ppoffice/hexo-theme-icarus&quot;&gt;Icarus&lt;/a&gt;，采用&lt;a href=&quot;https://github.com/gitalk/gitalk&quot;&gt;Gitalk&lt;/a&gt;评论，再次感谢此三位作者的辛勤码代码，才有了以下的内容。基于此背景基础上，聊聊最新评论的实现。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="工具教程" scheme="https://egsee.github.io/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"/>
    
      <category term="主题工具" scheme="https://egsee.github.io/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E4%B8%BB%E9%A2%98%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="icarus主题配置" scheme="https://egsee.github.io/tags/icarus%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/"/>
    
      <category term="hexo主题" scheme="https://egsee.github.io/tags/hexo%E4%B8%BB%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>博客图片上传picgo工具github图传使用</title>
    <link href="https://egsee.github.io/posts/9e7c733f/"/>
    <id>https://egsee.github.io/posts/9e7c733f/</id>
    <published>2019-06-20T09:31:57.000Z</published>
    <updated>2021-10-15T03:15:16.639Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>摘要<br>对于每一个写博客的人来说，图片是至关重要。这一路经历了多次图片的烦恼，之前选择了微博个人文章那里粘贴图片的方式上传，感觉也挺方便的。但是由于新浪的图片显示问题，如果header中不设置<!-- <meta name="referrer" content="no-referrer" /> 解决图片过期问题--> 标签就不能异步访问图片，导致图裂，那之恶心。然而设置之后又与网站访客统计的插件冲突，使之不能统计，真是神仙打架。无赖之下使用了PicGo工具，使用后感觉真XX方便！</p></blockquote><a id="more"></a><h2 id="PicGo工具下载安装配置"><a href="#PicGo工具下载安装配置" class="headerlink" title="PicGo工具下载安装配置"></a>PicGo工具下载安装配置</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><ul><li><p>.<a href="https://github.com/Molunerfinn/PicGo">PicGo下载</a> github网站提供三个版本的下载，MacOs、linux、windows覆盖市面上90%系统，还是很给力了。</p></li><li><p>我是mac用户，直接使用brew cask来安装PicGo: <strong>brew cask install picgo</strong>，简直方便到爆。</p></li></ul><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><ul><li><p>PicGo配置(使用github图传，免费方便，同时配合github.io博客真是方便)</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/20190620173723.png" alt=""></p></li></ul><p>选上必填的就ok,一开始不知道token的设置，附赠token获取方法</p><p>图片上传相关的设置</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/20190620173650.png" alt=""></p><p>链接格式：选择适合自己的，一般用户md文件中，选第一个，然后就可以疯狂使用了。</p><h3 id="使用github图传，获取token"><a href="#使用github图传，获取token" class="headerlink" title="使用github图传，获取token"></a>使用github图传，获取token</h3><p>在github-&gt;setting-&gt;developer settings 选择generate new token</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/20190620170732.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/20190620171238.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/20190620173443.png" alt=""></p><p>勾选好之后生成就好了</p><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ul><li><p>PicGo使用，简直方便</p><p>1).默认网页上直接右键复制图片</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/20190620172136.png" alt=""></p><p>2).点击等待中的图片，开始上传</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/20190620172046.png" alt=""></p><p>3).上传完之后有个提示，同时粘贴板也会自动粘贴上</p><p><img src="https://cdn.jsdelivr.net/gh/removeif/blog_image/20190620173543.png" alt=""></p><p>4).直接粘贴到想要的地方</p><p>或者也可以直接截图，然后点击图片里的图片上传，很方便</p></li><li><p>PicGo上传动图gif</p><p>如果直接复制网页上的动图，去上传的话是截取的某帧，是静图。应该下载到本地，然后在拖进去上传就可以了。</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;摘要&lt;br&gt;对于每一个写博客的人来说，图片是至关重要。这一路经历了多次图片的烦恼，之前选择了微博个人文章那里粘贴图片的方式上传，感觉也挺方便的。但是由于新浪的图片显示问题，如果header中不设置&lt;!-- &lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt; 解决图片过期问题--&gt; 标签就不能异步访问图片，导致图裂，那之恶心。然而设置之后又与网站访客统计的插件冲突，使之不能统计，真是神仙打架。无赖之下使用了PicGo工具，使用后感觉真XX方便！&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="工具教程" scheme="https://egsee.github.io/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"/>
    
      <category term="主题工具" scheme="https://egsee.github.io/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E4%B8%BB%E9%A2%98%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="工具教程" scheme="https://egsee.github.io/tags/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
</feed>
